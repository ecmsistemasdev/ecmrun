<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="https://ecmrun.com.br/static/img/img_200k.jpg">
    <title>4Âº Desafio 200k Porto Velho-HumaitaÌ</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>

    <!-- <script>
        function sendEmail() {
            // Faz uma requisicÌ§aÌƒo POST para enviar o email
            fetch('/send-email2', {
                method: 'POST'
            })
            .then(response => {
                if (response.redirected) {
                    window.location.href = response.url; // Redireciona para a paÌgina inicial apoÌs o envio
                }
            });
        }
    </script> -->

    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }  

        .logo-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            width: 100%;
            box-sizing: border-box;
        }
        
        .login-controls {
            display: flex;
            flex-direction: column;
            align-items: flex-end; /* Changed from center to flex-end */
            min-width: 150px; /* Added to ensure consistent space for login controls */
        }
        
        .user-name {
            text-align: right;
            font-weight: bold;
            margin-bottom: 5px;
            width: 100%; /* Added to ensure full width alignment */
        }
        
        .login-link {
            text-align: right;
            color: #4376ac;
            text-decoration: none;
            cursor: pointer;
            width: 100%; /* Added to ensure full width alignment */
        }
    
        .login-link:hover {
            text-decoration: underline;
        }
        
        
        /*
        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }
    
        .modal-button.confirm {
            background-color: #4376ac;
        }
    
        .modal-button.cancel {
            background-color: #6c757d;
        }
        */

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .modal-content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            text-align: center;
            min-width: 300px;
        }
        
        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }
        
        .modal-button {
            padding: 8px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            color: white;
            font-weight: bold;
        }
        
        .modal-button.confirm {
            background-color: #4376ac;
        }
        
        .modal-button.cancel {
            background-color: #6c757d;
        }
        
            
        .logo {
            width: 60px;
            height: 60px;
        }

        .header {
            width: 50%;
            height: 200px;
            margin: 10px auto 0;
            padding: 0;
            position: relative;
            background-image: url('/static/img/001.jpg');
            background-size: cover;
            background-position: center;
        }

        .center-image {
            width: 200px;
            height: 200px;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }

        .main-title {
            text-align: center;
            margin: 20px auto;
            font-size: 24px;
            width: 70%;
        }

        .container {
            width: 70%;
            margin: 20px auto;
            position: relative;
        }

        .main-content {
            text-align: left;
        }

        .event-info {
            margin-bottom: 20px;
            line-height: 1.6;
            font-size: 0.9em;
        }

        .registration-form {
            border: 2px solid #4de228;
            border-radius: 10px;
            padding: 15px;
            width: 320px;
            float: right;
            margin-left: 20px;
            background-color: white;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        .registration-form .title {
            background-color: #4de228;
            color: white;
            padding: 10px;
            margin: -15px -15px 15px -15px;
            border-radius: 7px 7px 0 0;
            font-size: 18px;
            font-weight: bold;
            text-align: center;
        }

        .sublabel {
            color: #4c4c4c;
            font-size: 12px;
            padding-left: 1.5em;
        }


        .form-group {
            margin-bottom: 15px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
        }

        .form-group input[type="text"],
        .form-group input[type="email"] {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }

        .radio-group {
            text-align: left;
            margin-bottom: 20px;
        }

        .radio-option {
            margin: 5px 0;
            padding: 3px;
        }

        .submit-btn {
            background-color: #1d72cc;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            width: 100%;
            font-weight: bold;
        }

        .submit-btn:hover {
            background-color: #0056b3;
        }

        .text-content {
            text-align: justify;
            margin-top: 20px;
            clear: both;
            padding-top: 10px;
            font-family: Calibri, Arial, sans-serif;
        }

        .regulation-title {
            text-align: center;
            font-size: 24px;
            margin-bottom: 15px;
        }

        .inscription-highlight {
            font-weight: bold;
        }

        .form-title {
            background-color: #647e99;
            color: white;
            padding: 10px;
            margin: -20px -20px 20px -20px;
            border-radius: 5px 5px 0 0;
            font-weight: bold;
            font-size: 18px;
            text-align: center;
        }

        .form-row {
            display: flex;
            padding-top: 5px;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-field {
            flex: 1;
            min-width: 200px;
        }

        .form-field a {
            background-color: yellow;
            padding: 5px;
            font-weight: bold;
        }

        .naoiniciado {
            background-color: yellow;
            padding: 5px;
            align-self: center;
            font-weight: bold;
        }

        .form-field-readonly {
            flex: 1;
            min-width: 200px;
        }

        .form-select {
            /* flex: 1;
            min-width: 0; */ 
            width: 80%;
            padding: 10px;
            margin-top: 10px;
            margin-bottom: 20px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
            font-size: 14px;
            height: 40px;

        }

        .termo {
            text-align: justify;
            margin: 0px 0;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 5px;
            font-size: 14px;
            line-height: 1.5;
        }

        .info {
            text-align: justify;
            margin: 0;
            margin-bottom: 30px;
            padding: 10px;
            background-color: white;
            border-radius: 0;
            font-size: 14px;
            line-height: 1.5;
        }

        .info-title {
            text-align: center;
            margin: 0;
            font-size: 24px;
            width: 90%;
        }

        form {
            width: 100%;
            background: white;
            padding-top: 20px;
            border-radius: 5px;
            min-width: 300px;
            margin-bottom: 20px;
        }

        input[readonly="true"] {
            background-color: #f0f0f0 !important;
        }

        @media (max-width: 768px) {
            form {
                width: calc(100% - 10px);
                margin: 5px 5px 5px 5px;
            }
        }
//
        .footer {
            background-color: white;
            padding: 20px 0;
            margin-top: auto;
            text-align: center;
        }

        .footer-logo {
            height: 60px;
            width: auto;
            margin-bottom: 10px;
        }

        .footer-text {
            font-size: 0.7em;
            color: #333;
            margin: 2px 0;
        }
        
        @media (max-width: 1024px) {
            .container, .main-title {
                width: 90%;
            }

            .header {
                width: 100%;
                margin: 0;
            }
        }

        @media (max-width: 768px) {
            .registration-form {
                float: none;
                margin: 0 auto 20px;
                min-width: 300px;
                width: 320px;
            }
            
            .main-content {
                clear: both;
                padding-top: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="logo-container">
        <img src="https://ecmrun.com.br/static/img/ecmrunlogo1.png" alt="Logo" class="logo">
        <div class="login-controls">
            <span id="userNameDisplay" class="user-name"></span>
            <a href="#" id="loginLink" class="login-link">Entrar</a>
        </div>
    </div>
    
    <div id="logoutModal" class="modal">
        <div class="modal-content">
            <p>Deseja sair da sua conta?</p>
            <div class="modal-buttons">
                <button onclick="confirmLogout()" class="modal-button confirm">Sim</button>
                <button onclick="closeLogoutModal()" class="modal-button cancel">NaÌƒo</button>
            </div>
        </div>
    </div>

    <div class="header">
        <img src="/static/img/img_200k.jpg" alt="Logo" class="center-image">
    </div>
    
    <h1 class="main-title">{{ titulo }}</h1>

    <div class="container">
        
        <form class="registration-form">
            
            <div class="title">InscricÌ§aÌƒo</div>

            <div class="form-row">
            
                <div class="form-field">
                        
                    <label for="modalidade">Modalidade:</label> 
                    <select name="modalidade" id="modalidade" class="form-select"> <!-- disabled="true"> --> 
                        <option selected disabled value="">Selecione uma modalidade</option>
                        {% for modalidade in modalidades %}
                        <option value="{{ modalidade.id }}">{{ modalidade.descricao }}</option>
                        {% endfor %}
                    </select>
                    <div><a>Valor:</a></div> 
                </div>
            </div>
            
            <button type="button" class="submit-btn">Continuar</button>
            <!-- <button type="button" class="submit-btn" disabled="true">Em Breve</button> --> 
            
        </form>
        
        <div class="main-content">
            <form>
                <div class="info">
                
                    <h3 class="info-title">Informativo</h3> 
                    <br>
                    ğŸ“… Data: 04, 05 e 07 de Julho de 2025<br>
                    ğŸƒğŸ» Largada aÌ€s 16hs ğŸ•—<br>
                    ğŸ“ SaiÌda: IniÌcio do EspacÌ§o Alternativo - Av. Jorge Teixeira (Praia)
                    <br><br>
                    ğŸ’² Valor da InscricÌ§aÌƒo:<br> 
                    Solo: {{ vlSolo }}; Dupla: {{ vlDupla }}; Quarteto: {{ vlQuarteto }}; Octeto: {{ vlOcteto }}<br>
                    Valor da inscricÌ§aÌƒo eÌ individual no caso de Modalidade em Equipe<br><br>
                    âœ <b>PeriÌodo de InscricÌ§aÌƒo:</b><br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    IniÌcio: {{ inicio_insc }}<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    TeÌrmino: {{ fim_insc }} ou ateÌ o limite das vagas<br><br>
                    ğŸ’° <b>Forma de Pagamento:</b><br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    Pix e CartaÌƒo de CreÌdito<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <b>Pagamento com Pix tem desconto de 5% sobre o valor da InscricÌ§aÌƒo</b><br>
                    <br>
                    ğŸ† Os atletas receberaÌƒo camiseta, viseira, sacolinha, medalha e um trofeÌu por equipe ou solo.<br>
                    ğŸš™ Os apoio devem fazer a inscricÌ§aÌƒo para receber camisa e medalha do evento. Em breve link para inscricÌ§aÌƒo do apoio
                    <br><br>
                    ğŸ“± Mais informacÌ§oÌƒes: (69) 99925-9005/ (69) 99308-8323 / (69) 99958-3207
                
                </div>
            </form>

            
            <form id="termoForm">
                <div class="form-title">Regulamento</div>
                <div class="termo">
                    Em 2025 teremos a 4Âª edicÌ§aÌƒo do Desafio Porto Velho HumaitaÌ. HaveraÌ participacÌ§aÌƒo de equipes e solo, naÌƒo se trata de competicÌ§aÌƒo, mas um desafio pessoal, em que cada um seraÌ responsaÌvel por sua segurancÌ§a e segurancÌ§a de todos na coletividade.
                    <br><br>
                    O Desafio eÌ um evento de 200km, denominado evento AUTOSSUFICIENTE, no qual o atleta se responsabiliza por sua orientacÌ§aÌƒo de percurso, sua alimentacÌ§aÌƒo, hidratacÌ§aÌƒo, segurancÌ§a e tudo que o atleta necessitaraÌ durante o trajeto junto com a sua equipe de apoio, com largadas em horaÌrios e locais descrito a seguir. 
                    <br><br>
                    O Desafio eÌ uma prova de autossuficieÌ‚ncia, com isso, entenderemos, nos solidarizamos e lamentamos todos os problemas que cada um possa ter, mas NAÌƒO HAVERAÌ CONCESSAÌƒO nenhuma a essa regra, para garantirmos a segurancÌ§a de todos.
                    <br><br>
                    1 - <b>MODALIDADES DO DESAFIO</b>
                    <br><br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ PROVAS PRINCIPAIS EM 2025 PARA OS 200KM:<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        1 - SOLO - 200 km;<br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        2 - DUPLA - 100 km cada atleta;<br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        3 - QUARTETO - 50 km cada atleta;<br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        4 - OCTETO - 25 km cada atleta.<br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        A participacÌ§aÌƒo na prova soÌ poderaÌ ser COM CARRO DE APOIO, cada atleta ou equipe seraÌ responsaÌvel por seu veiÌculo e todos os gastos.
                    <br><br>
                    2 - <b>DIA, HORA, LOCAL, TIPO DE LARGADA</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        A prova largaraÌ na seguinte data e horaÌrio:<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Dia: 04 de Julho de 2025 - Sexta Feira AÌ€S 16 horas<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Local da Largada e chegada: Av. Jorge Teixeira, iniÌcio do EspacÌ§o Alternativo (Praia)<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Largada preferencialmente todos juntos.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <b>O Atleta da modalidade solo que largar atrasado seraÌ automaticamente desclassificado.</b>
                    <br><br>
                    3 - <b>DURACÌ§AÌƒO, DATA DE TEÌRMINO DAS PROVAS</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        DuracÌ§aÌƒo maÌxima da prova seraÌ de 50 horas, chegada ateÌ aÌ€s 18 horas de domingo de 06/07/2025 no mesmo local da largada.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Dia 06/07/2025 (domingo) 18h (tarde) - Encerramento oficial da prova.
                    <br><br>
                    4 - <b>NÂº DE PEITO</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        SeraÌ fornecido nuÌmero de peito para todos os atletas.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Os Atletas deveraÌƒo permanecer com o nÂº de peito por todo percurso.
                    <br><br>
                    5 - <b>CONGRESSO TEÌCNICO</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        O Congresso teÌcnico seraÌ em dia e local a ser definido e informado pela organizacÌ§aÌƒo.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ EÌ OBRIGATOÌRIO A PARTICIPACÌ§AÌƒO DO ATLETA E/OU APOIO NO CONGRESSO TEÌCNICO, SENDO A AUSEÌ‚NCIA SEM JUSTIFICATIVA MOTIVO DE DESCLASSIFICACÌ§AÌƒO.
                    <br><br>
                    6 - <B>PONTOS DE COMUNICACÌ§AÌƒO ENTRE ATLETAS E ORGANIZACÌ§AÌƒO</B>
                    <br><br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Carro de Apoio da organizacÌ§aÌƒo e pontos de apoios fixos no decorrer do percurso nos kms 25, 50, 75, 100, 125, 150, 175.
                    <br><br>
                    7 - <b>CRITEÌRIOS PARA PARTICIPACÌ§AÌƒO</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Para o atleta poder participar do desafio seraÌ necessaÌrio:<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Ter 18 anos completos no dia da prova;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ EstaÌ em plenas condicÌ§oÌƒes fiÌsicas;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Ter realizado a inscricÌ§aÌƒo do desafio;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Estar de ACORDO e ACEITAR os termos deste Regulamento, do Termo de LiberacÌ§aÌƒo de Imagem, do Termo de Responsabilidade Civil e do Termos de Responsabilidade MeÌdica.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ SeraÌ de total responsabilidade do atleta qualquer eventualidade sofrida, isentando de qualquer tipo de responsabilidade o organizador e apoiadores do desafio. 
                    <br><br>
                    8 - <b>PERIODO DE INSCRICÌ§OÌƒES DE ATLETAS E APOIOS E OS RESPECTIVOS VALORES</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        8.1 - INSCRICÌ§OÌƒES DOS ATLETAS E APOIO<br>
                              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                             â€¢ IniÌcio: {{ inicio_insc }} <br>
                              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                             â€¢ TeÌrmino: {{ fim_insc }}  ou ateÌ o limite das vagas<br> 
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        8.2 - O VALOR DA INSCRICÌ§AÌƒO:<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            â€¢ Solo: {{ vlSolo }}; <br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            â€¢ Dupla: {{ vlDupla }}; <br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            â€¢ Quarteto: {{ vlQuarteto }}; <br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            â€¢ Octeto: {{ vlOcteto }}<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            + taxa administrativa da plataforma.<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            Pagamento via PIX teraÌ desconto de 5% sobre o valor da inscricÌ§aÌƒo<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        8.3 - Os apoios naÌƒo pagam inscricÌ§aÌƒo
                    <br><br>
                    9 - <b>NUÌMERO MAÌXIMO DE ATLETAS</b><br><br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ O nuÌmero maÌximo de atletas seraÌ de 150.<br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Para os atletas SOLO, seraÌ permitido 4 apoios inscritos<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Para os atletas que percorreraÌƒo o desafio em grupo, seraÌ permitido apenas 02 apoios inscritos.
                    <br><br>
                    10 - <b>REGRAS PARA O CANCELAMENTO DA PROVA</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢  Considerando-se que naÌƒo haveraÌ nenhum tipo de concentracÌ§aÌƒo puÌblica durante o evento 2025 soÌ seraÌ cancelada em uma das seguintes condicÌ§oÌƒes:<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            1 - Por forcÌ§a de Lei do Estado de RondoÌ‚nia, Estado do Amazonas ou Municipais.<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            2 - Impedimento da passagem do Atleta devido a existeÌ‚ncia de Barreiras SanitaÌrias entre as cidades que fazem parte do percurso do desafio.<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            3 - Caso a BR 319 esteja fechado por qualquer motivo.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Em caso de largada em atraso o teÌrmino da prova se prorrogaraÌ pelo tempo em atraso da largada.
                    <br><br>
                    11 - <b>QUESTOÌƒES TEÌCNICAS DAS PROVAS</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Estas regras estaÌƒo sendo feitas considerando-se as condicÌ§oÌƒes e os fatores existentes neste momento em que vivemos. ModificacÌ§oÌƒes poderaÌƒo ser feitas caso a realidade futura seja diferente da realidade de hoje.
                    <br><br>
                    12 - <b>OBRIGACÌ§OÌƒES E DEVERES</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Os Atletas deveraÌƒo transportar consigo, o nuÌmero de peito.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ EÌ obrigatoÌrio cumprir as distaÌ‚ncias a peÌ.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ EÌ obrigatoÌrio aÌ€s equipes de apoio a utilizacÌ§aÌƒo de veiÌculos (carros, moto e/ou bicicletas).<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ VeiÌculos (carros, moto e/ou bicicletas) poderaÌƒo ser compartilhados por atletas participando.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Atletas e membros das equipes devem ser cordiais, gentis, esportistas e discretos.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Nenhum lixo poderaÌ ser deixado no trajeto da Br durante o caminho.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Os atletas, seus familiares, seus patrocinadores e demais interessados, se comprometem a divulgar os resultados pessoais e das equipes, dentro das suas MODALIDADES.<br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Os carros de apoio podem seguir os atletas durante todo o caminho, seguindo sempre as leis de traÌ‚nsito e obedecendo as regras de segurancÌ§a.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Os Atletas SOLO, parados poderaÌƒo ter todo tipo de contato FIÌSICO durante toda a corrida.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Atletas de uma mesma EQUIPES DE REVEZAMENTO podem dar todo tipo de ajuda e ter contato fiÌsico durante a corrida inclusive, andar-de-maÌƒos-dadas, entretanto, o atleta naÌƒo poderaÌ ser puxado, carregado ou empurrado.
                        <br><br>             
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        EÌ OBRIGATOÌRIO:<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ O carro de apoio estaÌ SEMPRE proÌximo ao atleta, naÌƒo podendo se distanciar mais que 03 kms.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ O atleta ter todos os materiais necessaÌrio para uso durante o trajeto.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Uso de lanterna LUZ BRANCA de cabecÌ§a (com pilhas ou baterias adicionais) para o percurso no periÌodo noturno.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Uso de vestimenta com material refletivo, pelo atleta e equipe de apoio.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ O Carro de apoio deveraÌ prestar assisteÌ‚ncia, caso seja necessaÌrio, a qualquer atleta e ou participante do Desafio.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ O carro de apoio deveraÌ estar em dia com os itens de segurancÌ§a, tanque cheio e pneus revisados para evitar maiores transtornos.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Caso o pneu do carro de apoio fure, eÌ obrigatoÌrio que o atleta aguarde a troca de pneu para depois sair.<br>
                    <br><br>
                    13 - <b>ATENCÌ§AÌƒO - REGRAS NOVAS - QUESTOÌƒES DE SEGURANCÌ§A</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ O Revezamento deveraÌ ser realizado a cada trecho do percurso, naÌƒo sendo possiÌvel outro atleta, mesmo que da mesma equipe percorrer quilometragem diferente da estabelecida para cada membro.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Todos os atletas da equipe, deveraÌƒo preferencialmente largar juntos e cruzar a linha de chegada juntos. Durante o percurso, podendo cada um fazer a distaÌ‚ncia estabelecida para cada atleta.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Nenhum atleta de equipe, pode chegar antes na linha de chegada, separado dos outros atletas da equipe.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Caso algum atleta da equipe se machuque durante a prova, outro membro da equipe poderaÌ substituir o atleta lesionado, poreÌm o substituto deveraÌ percorrer toda a distaÌ‚ncia do atleta lesionado.
                    <br><br>
                    14 - <b>TROCA DE MODALIDADE</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        O Atleta que desejar mudar a modalidade, para solo ou grupo, poderaÌ fazer migracÌ§aÌƒo, mas naÌƒo seraÌ garantido medalha, trofeÌu e camiseta para todos que fizerem a mudancÌ§a depois da data de inscricÌ§aÌƒo.
                    <br><br>
                    15 - <b>QUESTOÌƒES BUROCRAÌTICAS E LEGAIS</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Todos os ATLETAS e membros das equipes de APOIO jaÌ aceitaram no ato da inscricÌ§aÌƒo:<br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Termo de IsencÌ§aÌƒo de Responsabilidade Civil;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Termo de IsencÌ§aÌƒo de Responsabilidade MeÌdica;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Termo de liberacÌ§aÌƒo de Imagem e dados;
                    <br><br>
                    16 - <b>SEGURANCÌ§A E QUESTOÌƒES MEÌDICAS</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Nenhum atleta ou participante da equipe de apoio poderaÌ ser deixado para traÌs sem um acompanhante da equipe.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Lembre-se o tempo todo, que segurancÌ§a eÌ o mais importante durante toda o desafio. Isto significa a segurancÌ§a do atleta, da equipe, de apoios, da organizacÌ§aÌƒo da prova. A Rodovia estaraÌ abertas para todos e de fato nessa eÌpoca do ano, haÌ muitas queimadas e pode haver traÌ‚nsito intenso.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ O Atleta poderaÌ receber auxiÌlio meÌdico/fisioterapeÌ‚utico ou assisteÌ‚ncia hospitalar externa, em qualquer lugar ao longo da corrida. O atleta deve estar PARADO para receber auxiÌlio meÌdico/fisioterapeÌ‚utico e todo tipo de massagens ou qualquer outro tipo de ajuda.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Atletas e acompanhantes noturnos deveraÌƒo utilizar roupa refletiva ou coletes refletores, bem como LEDs de maÌƒo ou cabecÌ§a durante a noite (19:00 ateÌ 6:00).<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ O atleta eÌ responsaÌvel pela sua equipe e por suas acÌ§oÌƒes e vice-versa.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Sempre olhe em todas as direcÌ§oÌƒes antes de atravessar a estrada. Recomendamos ao atleta soÌ atravessar a rodovia em caso de extrema necessidade e aos membros da equipe o maÌximo de cuidado ao atravessar a rodovia.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Todos os centiÌmetros do percurso deveraÌƒo ser corridos pelo atleta. Caso ele erre o caminho ele deveraÌ ser trazido para o ponto onde errou e retomar a corrida.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ NaÌƒo poderaÌ o atleta fazer uso de nenhum tipo de medicacÌ§aÌƒo injetaÌvel durante a prova.
                    <br><br>
                    17 - <b>Saindo da Corrida Temporariamente ou Desistindo da Prova</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Em caso de desisteÌ‚ncia o atleta deveraÌ informar ao apoio geral do desafio ou a qualquer atleta ou participante da sua desisteÌ‚ncia.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Todos os custos de assisteÌ‚ncia meÌdica ou qualquer outro tipo de emergeÌ‚ncia meÌdica correraÌƒo por conta do atleta e/ou sua equipe.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Toda e qualquer intercorreÌ‚ncia deveraÌ ser informada imediatamente aÌ€ equipe de organizacÌ§aÌƒo ou aÌ€ equipe dos pontos de apoio.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Caso o atleta saia temporariamente da prova, este deveraÌ informar a organizacÌ§aÌƒo, e com a anueÌ‚ncia dos organizadores, marcar o local exato que deixou a prova, para retornar. 
                    <br><br>
                    18 - <b>ATENCÌ§AÌƒO: ATESTADO MEÌDICO</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Todo Atleta deve realizar os seus exames perioÌdicos e se manter em dia com sua sauÌde. Fazer exames de rotina evitam problemas durantes as corridas.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        FacÌ§a seus exames sempre, jaÌ que voceÌ‚ vai correr o desafio e outras provas ao longo do ano. O IMPORTANTE eÌ a sua sauÌde. VoceÌ‚ eÌ a melhor pessoa para cuidar da sua sauÌde.
                    <br><br>
                    19 - <b>PREMIACÌ§AÌƒO DOS ATLETAS</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Todos os atletas que finalizarem o percurso receberaÌƒo Medalha, exceto nos casos em que se enqudre em no Item 15 deste Regulamento. 
                    <br><br>
                    20 - <b>PREMIACÌ§AÌƒO DOS APOIOS</b> 
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Somente Apoios inscritos receberaÌƒo a Medalha;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Dia 06/07/2026 (domingo) aÌ€s 19:00h - PremiacÌ§aÌƒo de trofeÌus e logo apoÌs encerramento do evento.
                    <br><br>
                    21 - <b>TEMPO DE CORTE</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ O Atleta solo que chegar no km 100 apoÌs 27 horas de prova estaraÌ desclassificado;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ O Atleta solo que chegar no km 150 apoÌs 45 horas de prova seraÌ desclassificado;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ O Atleta solo que chegar no km 175 apoÌs 47 horas de prova seraÌ desclassificado.<br> 
                    <br><br>
                    22 - <b>CUMPRIMENTO DO REGULAMENTO E PENALIDADES</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Todas as infracÌ§oÌƒes relacionadas com desonestidade, agressaÌƒo ou estupidez entre atletas ou de atletas para os membros do Staff da corrida, desclassificaraÌƒo o atleta ou equipe imediatamente.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ O descumprimento de qualquer uma das regras deste regulamento implica na desclassificacÌ§aÌƒo direta do atleta.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Todos os atletas e membros das equipes, ao participarem da prova, aceitam essas condicÌ§oÌƒes integralmente. Este regulamento eÌ soberano e deveraÌ ser acatado por todos os participantes do Desafio, atletas, e equipes de apoio.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ As regras deste regulamento existem para valorizar, respeitar e dar igualdade a todos<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        â€¢ Em todas e quaisquer circunstaÌ‚ncias o que vale nessas regras eÌ o espiÌrito esportivo que as regem, e a intencÌ§aÌƒo do organizador do desafio eÌ fazer com que voceÌ‚ se desafie a ser melhor em todos os sentidos depois de participar da prova, com igualdade de condicÌ§oÌƒes independente da forma e das modalidades de participacÌ§aÌƒo.
                    <br><br>                
                    <b>Nosso lema eÌ: desafie-se!!! </b>
                </div>
            </form>


        </div>
    </div>

    <footer class="footer">
        <p><b>"Tudo posso naquele que me fortalece."</b><br> Filipenses 4:13</p>
        <img src="/static/img/ecmdev02.png" alt="Logo ECM Run" class="footer-logo">
        <p class="footer-text">ECM Run - 2025, todos os direitos reservados</p>
        <p class="footer-text">Desenvolvido por: ECM Sistemas Developer</p>
        <p class="footer-text">VersaÌƒo 1.2</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const modalidadeSelect = document.getElementById('modalidade');
            const valorDiv = document.querySelector('.form-field div');
            const userNameDisplay = document.getElementById('userNameDisplay');
            const loginLink = document.getElementById('loginLink');
            const logoutModal = document.getElementById('logoutModal');
            const continueButton = document.querySelector('.submit-btn');

            // VariaÌveis para armazenar os valores atuais
            let currentModalidade = {
                id: null,
                descricao: '',
                valor: '',
                valorFormatted: ''
            };
            /// ADICIONADO POR MIM            
            // Function to clear specific payment-related localStorage items
            function clearPaymentRelatedLocalStorage() {
                const itemsToRemove = ['apoio', 'nome_equipe', 'integrantes', 'camiseta', 'vlinscricao', 'vltaxa'];
                
                itemsToRemove.forEach(item => {
                    localStorage.removeItem(item);
                });
            }
            
            ////  17/02/2025
            modalidadeSelect.addEventListener('change', function() {
                const iditem = this.value;

                if (!iditem) {
                    valorDiv.innerHTML = '<a>Valor:</a>';
                    currentModalidade = {
                        id: null,
                        descricao: '',
                        valor: '',
                        valorFormatted: ''
                    };
                    return;
                }
                
                // Armazena a descricÌ§aÌƒo da modalidade selecionada
                const selectedOption = modalidadeSelect.options[modalidadeSelect.selectedIndex];                
                
                currentModalidade.id = iditem;
                currentModalidade.descricao = selectedOption.text;
                
                fetch(/get_modalidade_valores/${iditem})
                    .then(response => response.json())
                    .then(data => {
                        if (data.error) {
                            valorDiv.innerHTML = '<a>Erro ao carregar valores</a>';
                            return;
                        }
                        
                        const vlinscricao = data.vlinscricao.toLocaleString('pt-BR', {
                            style: 'currency',
                            currency: 'BRL'
                        });
                        const vltaxa = data.vltaxa.toLocaleString('pt-BR', {
                            style: 'currency',
                            currency: 'BRL'
                        });

                        // Armazena os valores formatados
                        currentModalidade.valorFormatted = `${vlinscricao} + ${vltaxa} = Total: ${(data.vlinscricao + data.vltaxa).toLocaleString('pt-BR', {
                            style: 'currency',
                            currency: 'BRL'
                        })}`;
                        
                        valorDiv.innerHTML = <a>Valor: ${vlinscricao} + (${vltaxa} de taxa)</a>;

                        // 'add 1' - adicionado por mim
                        localStorage.setItem('cat_vlinscricao', data.vlinscricao);
                        localStorage.setItem('cat_vltaxa', data.vltaxa);
                        localStorage.setItem('cat_iditem', data.iditem);    
    
                        function startPaymentCheck() {
                            
                            if (checkInterval) {
                                clearInterval(checkInterval);
                            }
                            checkInterval = setInterval(checkPaymentStatus, 5000);
                        }

                        const vlInscricao = localStorage.getItem('cat_vlinscricao');
                        const vlTaxa = localStorage.getItem('cat_vltaxa');
                        const idItem = localStorage.getItem('cat_iditem');
                        
                        // Log para diagnoÌstico
                        console.log('Dados do localStorage:', {
                            vlInscricao,
                            vlTaxa
                        });            
                        // fim 'add 1'                        
                        
                    })
                    .catch(error => {
                        console.error('Erro:', error);
                        valorDiv.innerHTML = '<a>Erro ao carregar valores</a>';
                    });
            });

            //////////  FIM  17/02/2025
            
            function updateLoginControls() {
                const isLoggedIn = localStorage.getItem('logado') === 'sim';
                const userName = localStorage.getItem('user_name');
                
                if (isLoggedIn && userName) {
                    userNameDisplay.textContent = userName;
                    loginLink.textContent = 'Sair';
                    loginLink.onclick = showLogoutModal;
                } else {
                    userNameDisplay.textContent = '';
                    loginLink.textContent = 'Entrar';
                    loginLink.onclick = () => {
                        localStorage.setItem('login_origin', 'header');
                        window.location.href = '/login';
                    };
                }
            }
    
            function showLogoutModal() {
                logoutModal.style.display = 'flex';
            }
    
            function closeLogoutModal() {
                logoutModal.style.display = 'none';
            }
    
            window.confirmLogout = function() {
                // Clear login-related localStorage items
                const loginItems = [
                    'user_name', 'user_email', 'user_cpf', 'user_dtnascimento',
                    'user_idade', 'user_celular', 'user_sexo', 'user_idatleta',
                    'insc_modalidade', 'insc_apoio', 'insc_equipe200', 'insc_integrantes',
                    'insc_camiseta', 'insc_valor', 'insc_taxa', 'insc_valortotal',
                    'insc_dtpagamento', 'insc_formapgto', 'insc_idpagamento'
                ];
                loginItems.forEach(item => localStorage.removeItem(item));
                
                localStorage.setItem('logado', 'nao');
                closeLogoutModal();
                updateLoginControls();
            }
    
            window.closeLogoutModal = closeLogoutModal;

            // Check login state on page load
            updateLoginControls();
    
            // Update the continue button click handler
            continueButton.addEventListener('click', function(e) {
                e.preventDefault();
                
                if (!currentModalidade.id) {
                    alert('Por favor, selecione uma modalidade antes de continuar.');
                    return;
                }
    
                // Store category information
                localStorage.setItem('categoria_id', currentModalidade.id);
                localStorage.setItem('categoria', currentModalidade.descricao);
                localStorage.setItem('valor', currentModalidade.valorFormatted);
    
                if (localStorage.getItem('logado') === 'sim') {
                    const idPagamento = localStorage.getItem('insc_idpagamento');
                    window.location.href = (!idPagamento || idPagamento === 'none') 
                        ? '/inscricao200k' 
                        : '/formulario200k';
                } else {
                    localStorage.setItem('login_origin', 'continue');
                    window.location.href = '/login';
                }
            });
    
            // Initialize login controls
            updateLoginControls();
        });
    </script>
</body>
</html>
