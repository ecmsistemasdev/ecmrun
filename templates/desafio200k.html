<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4¬∫ Desafio 200k Porto Velho-Humait√°</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>

    <!-- <script>
        function sendEmail() {
            // Faz uma requisi√ß√£o POST para enviar o email
            fetch('/send-email2', {
                method: 'POST'
            })
            .then(response => {
                if (response.redirected) {
                    window.location.href = response.url; // Redireciona para a p√°gina inicial ap√≥s o envio
                }
            });
        }
    </script> -->

    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }

        /*.logo-container {
            width: 100%;
            height: 60px;
            background-color: white;
            display: flex;
            justify-content: flex-start; 
            padding-left: 20px; 
            align-items: center;
            margin-bottom: 0px;
        }  */      

        .logo-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-right: 20px;
        }
    
        .login-controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
    
        .user-name {
            text-align: right;
            font-weight: bold;
            margin-bottom: 5px;
        }
    
        .login-link {
            text-align: right;
            color: #4376ac;
            text-decoration: none;
            cursor: pointer;
        }
    
        .login-link:hover {
            text-decoration: underline;
        }
        
        
        /*
        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }
    
        .modal-button.confirm {
            background-color: #4376ac;
        }
    
        .modal-button.cancel {
            background-color: #6c757d;
        }
        */

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .modal-content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            text-align: center;
            min-width: 300px;
        }
        
        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }
        
        .modal-button {
            padding: 8px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            color: white;
            font-weight: bold;
        }
        
        .modal-button.confirm {
            background-color: #4376ac;
        }
        
        .modal-button.cancel {
            background-color: #6c757d;
        }
        
            
        .logo {
            width: 60px;
            height: 60px;
        }

        .header {
            width: 50%;
            height: 200px;
            margin: 10px auto 0;
            padding: 0;
            position: relative;
            background-image: url('/static/img/001.jpg');
            background-size: cover;
            background-position: center;
        }

        .center-image {
            width: 200px;
            height: 200px;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }

        .main-title {
            text-align: center;
            margin: 20px auto;
            font-size: 24px;
            width: 70%;
        }

        .container {
            width: 70%;
            margin: 20px auto;
            position: relative;
        }

        .main-content {
            text-align: left;
        }

        .event-info {
            margin-bottom: 20px;
            line-height: 1.6;
            font-size: 0.9em;
        }

        .registration-form {
            border: 2px solid #4de228;
            border-radius: 10px;
            padding: 15px;
            width: 320px;
            float: right;
            margin-left: 20px;
            background-color: white;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        .registration-form .title {
            background-color: #4de228;
            color: white;
            padding: 10px;
            margin: -15px -15px 15px -15px;
            border-radius: 7px 7px 0 0;
            font-size: 18px;
            font-weight: bold;
            text-align: center;
        }

        .sublabel {
            color: #4c4c4c;
            font-size: 12px;
            padding-left: 1.5em;
        }


        .form-group {
            margin-bottom: 15px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
        }

        .form-group input[type="text"],
        .form-group input[type="email"] {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }

        .radio-group {
            text-align: left;
            margin-bottom: 20px;
        }

        .radio-option {
            margin: 5px 0;
            padding: 3px;
        }

        .submit-btn {
            background-color: #1d72cc;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            width: 100%;
            font-weight: bold;
        }

        .submit-btn:hover {
            background-color: #0056b3;
        }

        .text-content {
            text-align: justify;
            margin-top: 20px;
            clear: both;
            padding-top: 10px;
            font-family: Calibri, Arial, sans-serif;
        }

        .regulation-title {
            text-align: center;
            font-size: 24px;
            margin-bottom: 15px;
        }

        .inscription-highlight {
            font-weight: bold;
        }

        .form-title {
            background-color: #647e99;
            color: white;
            padding: 10px;
            margin: -20px -20px 20px -20px;
            border-radius: 5px 5px 0 0;
            font-weight: bold;
            font-size: 18px;
            text-align: center;
        }

        .form-row {
            display: flex;
            padding-top: 5px;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-field {
            flex: 1;
            min-width: 200px;
        }

        .form-field a {
            background-color: yellow;
            padding: 5px;
            font-weight: bold;
        }

        .naoiniciado {
            background-color: yellow;
            padding: 5px;
            align-self: center;
            font-weight: bold;
        }

        .form-field-readonly {
            flex: 1;
            min-width: 200px;
        }

        .form-select {
            /* flex: 1;
            min-width: 0; */ 
            width: 80%;
            padding: 10px;
            margin-top: 10px;
            margin-bottom: 20px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
            font-size: 14px;
            height: 40px;

        }

        .termo {
            text-align: justify;
            margin: 0px 0;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 5px;
            font-size: 14px;
            line-height: 1.5;
        }

        .info {
            text-align: justify;
            margin: 0;
            margin-bottom: 30px;
            padding: 10px;
            background-color: white;
            border-radius: 0;
            font-size: 14px;
            line-height: 1.5;
        }

        .info-title {
            text-align: center;
            margin: 0;
            font-size: 24px;
            width: 90%;
        }

        form {
            width: 100%;
            background: white;
            padding-top: 20px;
            border-radius: 5px;
            min-width: 300px;
            margin-bottom: 20px;
        }

        input[readonly="true"] {
            background-color: #f0f0f0 !important;
        }

        @media (max-width: 768px) {
            form {
                width: calc(100% - 10px);
                margin: 5px 5px 5px 5px;
            }
        }
/**/
        .footer {
            background-color: white;
            padding: 20px 0;
            margin-top: auto;
            text-align: center;
        }

        .footer-logo {
            height: 60px;
            width: auto;
            margin-bottom: 10px;
        }

        .footer-text {
            font-size: 0.7em;
            color: #333;
            margin: 2px 0;
        }
        
        @media (max-width: 1024px) {
            .container, .main-title {
                width: 90%;
            }

            .header {
                width: 100%;
                margin: 0;
            }
        }

        @media (max-width: 768px) {
            .registration-form {
                float: none;
                margin: 0 auto 20px;
                min-width: 300px;
                width: 320px;
            }
            
            .main-content {
                clear: both;
                padding-top: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="logo-container">
        <img src="https://ecmrun.com.br/static/img/ecmrunlogo1.png" alt="Logo" class="logo">
        <div class="login-controls">
            <span id="userNameDisplay" class="user-name"></span>
            <a href="#" id="loginLink" class="login-link">Entrar</a>
        </div>
    </div>
    
    <div id="logoutModal" class="modal">
        <div class="modal-content">
            <p>Deseja sair da sua conta?</p>
            <div class="modal-buttons">
                <button onclick="confirmLogout()" class="modal-button confirm">Sim</button>
                <button onclick="closeLogoutModal()" class="modal-button cancel">N√£o</button>
            </div>
        </div>
    </div>

    <div class="header">
        <img src="/static/img/img_200k.jpg" alt="Logo" class="center-image">
    </div>
    
    <h1 class="main-title">{{ titulo }}</h1>

    <div class="container">
        
        <form class="registration-form">
            
            <div class="title">Inscri√ß√£o</div>

            <div class="form-row">
            
                <div class="form-field">
                        
                    <label for="modalidade">Modalidade:</label> 
                    <select name="modalidade" id="modalidade" class="form-select"> <!-- disabled="true"> --> 
                        <option selected disabled value="">Selecione uma modalidade</option>
                        {% for modalidade in modalidades %}
                        <option value="{{ modalidade.id }}">{{ modalidade.descricao }}</option>
                        {% endfor %}
                    </select>
                    <div><a>Valor:</a></div> 
                </div>
            </div>
            
            <button type="button" class="submit-btn">Continuar</button>
            <!-- <button type="button" class="submit-btn" disabled="true">Em Breve</button> --> 
            
        </form>
        
        <div class="main-content">
            <form>
                <div class="info">
                
                    <h3 class="info-title">Informativo</h3> 
                    <br>
                    üìÖ Data: 04, 05 e 07 de Julho de 2025<br>
                    üèÉüèª Largada √†s 16hs üïó<br>
                    üìç Sa√≠da: In√≠cio do Espa√ßo Alternativo - Av. Jorge Teixeira (Praia)
                    <br><br>
                    üí≤ Valor da Inscri√ß√£o:<br> 
                    Solo: {{ vlSolo }}; Dupla: {{ vlDupla }}; Quarteto: {{ vlQuarteto }}; Octeto: {{ vlOcteto }}<br>
                    Valor da inscri√ß√£o √© individual no caso de Modalidade em Equipe<br><br>
                    ‚úçÔ∏è <b>Per√≠odo de Inscri√ß√£o:</b><br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    In√≠cio: {{ inicio_insc }}<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    T√©rmino: {{ fim_insc }} ou at√© o limite das vagas<br><br>
                    üí∞ <b>Forma de Pagamento:</b><br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    Pix e Cart√£o de Cr√©dito<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <b>Pagamento com Pix tem desconto de 5% sobre o valor da Inscri√ß√£o</b><br>
                    <br>
                    üèÜ Os atletas receber√£o camiseta, viseira, sacolinha, medalha e um trof√©u por equipe ou solo.<br>
                    üöô Os apoio devem fazer a inscri√ß√£o para receber camisa e medalha do evento. Em breve link para inscri√ß√£o do apoio
                    <br><br>
                    üì± Mais informa√ß√µes: (69) 99925-9005/ (69) 99308-8323 / (69) 99958-3207
                
                </div>
            </form>

            
            <form id="termoForm">
                <div class="form-title">Regulamento</div>
                <div class="termo">
                    Em 2025 teremos a 4¬™ edi√ß√£o do Desafio Porto Velho Humait√°. Haver√° participa√ß√£o de equipes e solo, n√£o se trata de competi√ß√£o, mas um desafio pessoal, em que cada um ser√° respons√°vel por sua seguran√ßa e seguran√ßa de todos na coletividade.
                    <br><br>
                    O Desafio √© um evento de 200km, denominado evento AUTOSSUFICIENTE, no qual o atleta se responsabiliza por sua orienta√ß√£o de percurso, sua alimenta√ß√£o, hidrata√ß√£o, seguran√ßa e tudo que o atleta necessitar√° durante o trajeto junto com a sua equipe de apoio, com largadas em hor√°rios e locais descrito a seguir. 
                    <br><br>
                    O Desafio √© uma prova de autossufici√™ncia, com isso, entenderemos, nos solidarizamos e lamentamos todos os problemas que cada um possa ter, mas N√ÉO HAVER√Å CONCESS√ÉO nenhuma a essa regra, para garantirmos a seguran√ßa de todos.
                    <br><br>
                    1 - <b>MODALIDADES DO DESAFIO</b>
                    <br><br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ PROVAS PRINCIPAIS EM 2025 PARA OS 200KM:<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        1 - SOLO - 200 km;<br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        2 - DUPLA - 100 km cada atleta;<br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        3 - QUARTETO - 50 km cada atleta;<br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        4 - OCTETO - 25 km cada atleta.<br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        A participa√ß√£o na prova s√≥ poder√° ser COM CARRO DE APOIO, cada atleta ou equipe ser√° respons√°vel por seu ve√≠culo e todos os gastos.
                    <br><br>
                    2 - <b>DIA, HORA, LOCAL, TIPO DE LARGADA</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        A prova largar√° na seguinte data e hor√°rio:<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Dia: 04 de Julho de 2025 - Sexta Feira √ÄS 16 horas<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Local da Largada e chegada: Av. Jorge Teixeira, in√≠cio do Espa√ßo Alternativo (Praia)<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Largada preferencialmente todos juntos.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <b>O Atleta da modalidade solo que largar atrasado ser√° automaticamente desclassificado.</b>
                    <br><br>
                    3 - <b>DURA√á√ÉO, DATA DE T√âRMINO DAS PROVAS</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Dura√ß√£o m√°xima da prova ser√° de 50 horas, chegada at√© √†s 18 horas de domingo de 06/07/2025 no mesmo local da largada.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Dia 06/07/2025 (domingo) 18h (tarde) - Encerramento oficial da prova.
                    <br><br>
                    4 - <b>N¬∫ DE PEITO</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Ser√° fornecido n√∫mero de peito para todos os atletas.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Os Atletas dever√£o permanecer com o n¬∫ de peito por todo percurso.
                    <br><br>
                    5 - <b>CONGRESSO T√âCNICO</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        O Congresso t√©cnico ser√° em dia e local a ser definido e informado pela organiza√ß√£o.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ √â OBRIGAT√ìRIO A PARTICIPA√á√ÉO DO ATLETA E/OU APOIO NO CONGRESSO T√âCNICO, SENDO A AUS√äNCIA SEM JUSTIFICATIVA MOTIVO DE DESCLASSIFICA√á√ÉO.
                    <br><br>
                    6 - <B>PONTOS DE COMUNICA√á√ÉO ENTRE ATLETAS E ORGANIZA√á√ÉO</B>
                    <br><br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Carro de Apoio da organiza√ß√£o e pontos de apoios fixos no decorrer do percurso nos kms 25, 50, 75, 100, 125, 150, 175.
                    <br><br>
                    7 - <b>CRIT√âRIOS PARA PARTICIPA√á√ÉO</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Para o atleta poder participar do desafio ser√° necess√°rio:<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Ter 18 anos completos no dia da prova;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Est√° em plenas condi√ß√µes f√≠sicas;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Ter realizado a inscri√ß√£o do desafio;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Estar de ACORDO e ACEITAR os termos deste Regulamento, do Termo de Libera√ß√£o de Imagem, do Termo de Responsabilidade Civil e do Termos de Responsabilidade M√©dica.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Ser√° de total responsabilidade do atleta qualquer eventualidade sofrida, isentando de qualquer tipo de responsabilidade o organizador e apoiadores do desafio. 
                    <br><br>
                    8 - <b>PERIODO DE INSCRI√á√ïES DE ATLETAS E APOIOS E OS RESPECTIVOS VALORES</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        8.1 - INSCRI√á√ïES DOS ATLETAS E APOIO<br>
                              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                             ‚Ä¢ In√≠cio: {{ inicio_insc }} <br>
                              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                             ‚Ä¢ T√©rmino: {{ fim_insc }}  ou at√© o limite das vagas<br> 
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        8.2 - O VALOR DA INSCRI√á√ÉO:<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            ‚Ä¢ Solo: {{ vlSolo }}; <br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            ‚Ä¢ Dupla: {{ vlDupla }}; <br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            ‚Ä¢ Quarteto: {{ vlQuarteto }}; <br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            ‚Ä¢ Octeto: {{ vlOcteto }}<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            + taxa administrativa da plataforma.<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            Pagamento via PIX ter√° desconto de 5% sobre o valor da inscri√ß√£o<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        8.3 - Os apoios n√£o pagam inscri√ß√£o
                    <br><br>
                    9 - <b>N√öMERO M√ÅXIMO DE ATLETAS</b><br><br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ O n√∫mero m√°ximo de atletas ser√° de 150.<br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Para os atletas SOLO, ser√° permitido 4 apoios inscritos<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Para os atletas que percorrer√£o o desafio em grupo, ser√° permitido apenas 02 apoios inscritos.
                    <br><br>
                    10 - <b>REGRAS PARA O CANCELAMENTO DA PROVA</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢  Considerando-se que n√£o haver√° nenhum tipo de concentra√ß√£o p√∫blica durante o evento 2025 s√≥ ser√° cancelada em uma das seguintes condi√ß√µes:<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            1 - Por for√ßa de Lei do Estado de Rond√¥nia, Estado do Amazonas ou Municipais.<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            2 - Impedimento da passagem do Atleta devido a exist√™ncia de Barreiras Sanit√°rias entre as cidades que fazem parte do percurso do desafio.<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            3 - Caso a BR 319 esteja fechado por qualquer motivo.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Em caso de largada em atraso o t√©rmino da prova se prorrogar√° pelo tempo em atraso da largada.
                    <br><br>
                    11 - <b>QUEST√ïES T√âCNICAS DAS PROVAS</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Estas regras est√£o sendo feitas considerando-se as condi√ß√µes e os fatores existentes neste momento em que vivemos. Modifica√ß√µes poder√£o ser feitas caso a realidade futura seja diferente da realidade de hoje.
                    <br><br>
                    12 - <b>OBRIGA√á√ïES E DEVERES</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Os Atletas dever√£o transportar consigo, o n√∫mero de peito.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ √â obrigat√≥rio cumprir as dist√¢ncias a p√©.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ √â obrigat√≥rio √†s equipes de apoio a utiliza√ß√£o de ve√≠culos (carros, moto e/ou bicicletas).<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Ve√≠culos (carros, moto e/ou bicicletas) poder√£o ser compartilhados por atletas participando.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Atletas e membros das equipes devem ser cordiais, gentis, esportistas e discretos.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Nenhum lixo poder√° ser deixado no trajeto da Br durante o caminho.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Os atletas, seus familiares, seus patrocinadores e demais interessados, se comprometem a divulgar os resultados pessoais e das equipes, dentro das suas MODALIDADES.<br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Os carros de apoio podem seguir os atletas durante todo o caminho, seguindo sempre as leis de tr√¢nsito e obedecendo as regras de seguran√ßa.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Os Atletas SOLO, parados poder√£o ter todo tipo de contato F√çSICO durante toda a corrida.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Atletas de uma mesma EQUIPES DE REVEZAMENTO podem dar todo tipo de ajuda e ter contato f√≠sico durante a corrida inclusive, andar-de-m√£os-dadas, entretanto, o atleta n√£o poder√° ser puxado, carregado ou empurrado.
                        <br><br>             
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        √â OBRIGAT√ìRIO:<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ O carro de apoio est√° SEMPRE pr√≥ximo ao atleta, n√£o podendo se distanciar mais que 03 kms.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ O atleta ter todos os materiais necess√°rio para uso durante o trajeto.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Uso de lanterna LUZ BRANCA de cabe√ßa (com pilhas ou baterias adicionais) para o percurso no per√≠odo noturno.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Uso de vestimenta com material refletivo, pelo atleta e equipe de apoio.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ O Carro de apoio dever√° prestar assist√™ncia, caso seja necess√°rio, a qualquer atleta e ou participante do Desafio.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ O carro de apoio dever√° estar em dia com os itens de seguran√ßa, tanque cheio e pneus revisados para evitar maiores transtornos.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Caso o pneu do carro de apoio fure, √© obrigat√≥rio que o atleta aguarde a troca de pneu para depois sair.<br>
                    <br><br>
                    13 - <b>ATEN√á√ÉO - REGRAS NOVAS - QUEST√ïES DE SEGURAN√áA</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ O Revezamento dever√° ser realizado a cada trecho do percurso, n√£o sendo poss√≠vel outro atleta, mesmo que da mesma equipe percorrer quilometragem diferente da estabelecida para cada membro.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Todos os atletas da equipe, dever√£o preferencialmente largar juntos e cruzar a linha de chegada juntos. Durante o percurso, podendo cada um fazer a dist√¢ncia estabelecida para cada atleta.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Nenhum atleta de equipe, pode chegar antes na linha de chegada, separado dos outros atletas da equipe.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Caso algum atleta da equipe se machuque durante a prova, outro membro da equipe poder√° substituir o atleta lesionado, por√©m o substituto dever√° percorrer toda a dist√¢ncia do atleta lesionado.
                    <br><br>
                    14 - <b>TROCA DE MODALIDADE</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        O Atleta que desejar mudar a modalidade, para solo ou grupo, poder√° fazer migra√ß√£o, mas n√£o ser√° garantido medalha, trof√©u e camiseta para todos que fizerem a mudan√ßa depois da data de inscri√ß√£o.
                    <br><br>
                    15 - <b>QUEST√ïES BUROCR√ÅTICAS E LEGAIS</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Todos os ATLETAS e membros das equipes de APOIO j√° aceitaram no ato da inscri√ß√£o:<br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Termo de Isen√ß√£o de Responsabilidade Civil;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Termo de Isen√ß√£o de Responsabilidade M√©dica;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Termo de libera√ß√£o de Imagem e dados;
                    <br><br>
                    16 - <b>SEGURAN√áA E QUEST√ïES M√âDICAS</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Nenhum atleta ou participante da equipe de apoio poder√° ser deixado para tr√°s sem um acompanhante da equipe.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Lembre-se o tempo todo, que seguran√ßa √© o mais importante durante toda o desafio. Isto significa a seguran√ßa do atleta, da equipe, de apoios, da organiza√ß√£o da prova. A Rodovia estar√° abertas para todos e de fato nessa √©poca do ano, h√° muitas queimadas e pode haver tr√¢nsito intenso.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ O Atleta poder√° receber aux√≠lio m√©dico/fisioterap√™utico ou assist√™ncia hospitalar externa, em qualquer lugar ao longo da corrida. O atleta deve estar PARADO para receber aux√≠lio m√©dico/fisioterap√™utico e todo tipo de massagens ou qualquer outro tipo de ajuda.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Atletas e acompanhantes noturnos dever√£o utilizar roupa refletiva ou coletes refletores, bem como LEDs de m√£o ou cabe√ßa durante a noite (19:00 at√© 6:00).<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ O atleta √© respons√°vel pela sua equipe e por suas a√ß√µes e vice-versa.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Sempre olhe em todas as dire√ß√µes antes de atravessar a estrada. Recomendamos ao atleta s√≥ atravessar a rodovia em caso de extrema necessidade e aos membros da equipe o m√°ximo de cuidado ao atravessar a rodovia.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Todos os cent√≠metros do percurso dever√£o ser corridos pelo atleta. Caso ele erre o caminho ele dever√° ser trazido para o ponto onde errou e retomar a corrida.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ N√£o poder√° o atleta fazer uso de nenhum tipo de medica√ß√£o injet√°vel durante a prova.
                    <br><br>
                    17 - <b>Saindo da Corrida Temporariamente ou Desistindo da Prova</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Em caso de desist√™ncia o atleta dever√° informar ao apoio geral do desafio ou a qualquer atleta ou participante da sua desist√™ncia.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Todos os custos de assist√™ncia m√©dica ou qualquer outro tipo de emerg√™ncia m√©dica correr√£o por conta do atleta e/ou sua equipe.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Toda e qualquer intercorr√™ncia dever√° ser informada imediatamente √† equipe de organiza√ß√£o ou √† equipe dos pontos de apoio.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Caso o atleta saia temporariamente da prova, este dever√° informar a organiza√ß√£o, e com a anu√™ncia dos organizadores, marcar o local exato que deixou a prova, para retornar. 
                    <br><br>
                    18 - <b>ATEN√á√ÉO: ATESTADO M√âDICO</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Todo Atleta deve realizar os seus exames peri√≥dicos e se manter em dia com sua sa√∫de. Fazer exames de rotina evitam problemas durantes as corridas.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Fa√ßa seus exames sempre, j√° que voc√™ vai correr o desafio e outras provas ao longo do ano. O IMPORTANTE √© a sua sa√∫de. Voc√™ √© a melhor pessoa para cuidar da sua sa√∫de.
                    <br><br>
                    19 - <b>PREMIA√á√ÉO DOS ATLETAS</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Todos os atletas que finalizarem o percurso receber√£o Medalha, exceto nos casos em que se enqudre em no Item 15 deste Regulamento. 
                    <br><br>
                    20 - <b>PREMIA√á√ÉO DOS APOIOS</b> 
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Somente Apoios inscritos receber√£o a Medalha;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Dia 06/07/2026 (domingo) √†s 19:00h - Premia√ß√£o de trof√©us e logo ap√≥s encerramento do evento.
                    <br><br>
                    21 - <b>TEMPO DE CORTE</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ O Atleta solo que chegar no km 100 ap√≥s 27 horas de prova estar√° desclassificado;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ O Atleta solo que chegar no km 150 ap√≥s 45 horas de prova ser√° desclassificado;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ O Atleta solo que chegar no km 175 ap√≥s 47 horas de prova ser√° desclassificado.<br> 
                    <br><br>
                    22 - <b>CUMPRIMENTO DO REGULAMENTO E PENALIDADES</b>
                    <br><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Todas as infra√ß√µes relacionadas com desonestidade, agress√£o ou estupidez entre atletas ou de atletas para os membros do Staff da corrida, desclassificar√£o o atleta ou equipe imediatamente.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ O descumprimento de qualquer uma das regras deste regulamento implica na desclassifica√ß√£o direta do atleta.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Todos os atletas e membros das equipes, ao participarem da prova, aceitam essas condi√ß√µes integralmente. Este regulamento √© soberano e dever√° ser acatado por todos os participantes do Desafio, atletas, e equipes de apoio.<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ As regras deste regulamento existem para valorizar, respeitar e dar igualdade a todos<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        ‚Ä¢ Em todas e quaisquer circunst√¢ncias o que vale nessas regras √© o esp√≠rito esportivo que as regem, e a inten√ß√£o do organizador do desafio √© fazer com que voc√™ se desafie a ser melhor em todos os sentidos depois de participar da prova, com igualdade de condi√ß√µes independente da forma e das modalidades de participa√ß√£o.
                    <br><br>                
                    <b>Nosso lema √©: desafie-se!!! </b>
                </div>
            </form>


        </div>
    </div>

    <footer class="footer">
        <p><b>"Tudo posso naquele que me fortalece."</b><br> Filipenses 4:13</p>
        <img src="/static/img/ecmdev02.png" alt="Logo ECM Run" class="footer-logo">
        <p class="footer-text">ECM Run - 2025, todos os direitos reservados</p>
        <p class="footer-text">Desenvolvido por: ECM Sistemas Developer</p>
        <p class="footer-text">Vers√£o 1.2</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const modalidadeSelect = document.getElementById('modalidade');
            const valorDiv = document.querySelector('.form-field div');
            const userNameDisplay = document.getElementById('userNameDisplay');
            const loginLink = document.getElementById('loginLink');
            const logoutModal = document.getElementById('logoutModal');
            const continueButton = document.querySelector('.submit-btn');

            // Vari√°veis para armazenar os valores atuais
            let currentModalidade = {
                id: null,
                descricao: '',
                valor: '',
                valorFormatted: ''
            };
            /// ADICIONADO POR MIM            
            // Function to clear specific payment-related localStorage items
            function clearPaymentRelatedLocalStorage() {
                const itemsToRemove = ['apoio', 'nome_equipe', 'integrantes', 'camiseta', 'vlinscricao', 'vltaxa'];
                
                itemsToRemove.forEach(item => {
                    localStorage.removeItem(item);
                });
            }
            
            ////  17/02/2025
            modalidadeSelect.addEventListener('change', function() {
                const iditem = this.value;

                if (!iditem) {
                    valorDiv.innerHTML = '<a>Valor:</a>';
                    currentModalidade = {
                        id: null,
                        descricao: '',
                        valor: '',
                        valorFormatted: ''
                    };
                    return;
                }
                
                // Armazena a descri√ß√£o da modalidade selecionada
                const selectedOption = modalidadeSelect.options[modalidadeSelect.selectedIndex];                
                
                currentModalidade.id = iditem;
                currentModalidade.descricao = selectedOption.text;
                
                fetch(`/get_modalidade_valores/${iditem}`)
                    .then(response => response.json())
                    .then(data => {
                        if (data.error) {
                            valorDiv.innerHTML = '<a>Erro ao carregar valores</a>';
                            return;
                        }
                        
                        const vlinscricao = data.vlinscricao.toLocaleString('pt-BR', {
                            style: 'currency',
                            currency: 'BRL'
                        });
                        const vltaxa = data.vltaxa.toLocaleString('pt-BR', {
                            style: 'currency',
                            currency: 'BRL'
                        });

                        // Armazena os valores formatados
                        currentModalidade.valorFormatted = `${vlinscricao} + ${vltaxa} = Total: ${(data.vlinscricao + data.vltaxa).toLocaleString('pt-BR', {
                            style: 'currency',
                            currency: 'BRL'
                        })}`;
                        
                        valorDiv.innerHTML = `<a>Valor: ${vlinscricao} + (${vltaxa} de taxa)</a>`;

                        // 'add 1' - adicionado por mim
                        localStorage.setItem('cat_vlinscricao', data.vlinscricao);
                        localStorage.setItem('cat_vltaxa', data.vltaxa);
                        localStorage.setItem('cat_iditem', data.iditem);    
    
                        function startPaymentCheck() {
                            
                            if (checkInterval) {
                                clearInterval(checkInterval);
                            }
                            checkInterval = setInterval(checkPaymentStatus, 5000);
                        }

                        const vlInscricao = localStorage.getItem('cat_vlinscricao');
                        const vlTaxa = localStorage.getItem('cat_vltaxa');
                        const idItem = localStorage.getItem('cat_iditem');
                        
                        // Log para diagn√≥stico
                        console.log('Dados do localStorage:', {
                            vlInscricao,
                            vlTaxa
                        });            
                        // fim 'add 1'                        
                        
                    })
                    .catch(error => {
                        console.error('Erro:', error);
                        valorDiv.innerHTML = '<a>Erro ao carregar valores</a>';
                    });
            });

            //////////  FIM  17/02/2025
            
            function updateLoginControls() {
                const isLoggedIn = localStorage.getItem('logado') === 'sim';
                const userName = localStorage.getItem('user_name');
                
                if (isLoggedIn && userName) {
                    userNameDisplay.textContent = userName;
                    loginLink.textContent = 'Sair';
                    loginLink.onclick = showLogoutModal;
                } else {
                    userNameDisplay.textContent = '';
                    loginLink.textContent = 'Entrar';
                    loginLink.onclick = () => {
                        localStorage.setItem('login_origin', 'header');
                        window.location.href = '/login';
                    };
                }
            }
    
            function showLogoutModal() {
                logoutModal.style.display = 'flex';
            }
    
            function closeLogoutModal() {
                logoutModal.style.display = 'none';
            }
    
            window.confirmLogout = function() {
                // Clear login-related localStorage items
                const loginItems = [
                    'user_name', 'user_email', 'user_cpf', 'user_dtnascimento',
                    'user_idade', 'user_celular', 'user_sexo', 'user_idatleta',
                    'insc_modalidade', 'insc_apoio', 'insc_equipe200', 'insc_integrantes',
                    'insc_camiseta', 'insc_valor', 'insc_taxa', 'insc_valortotal',
                    'insc_dtpagamento', 'insc_formapgto', 'insc_idpagamento'
                ];
                loginItems.forEach(item => localStorage.removeItem(item));
                
                localStorage.setItem('logado', 'nao');
                closeLogoutModal();
                updateLoginControls();
            }
    
            window.closeLogoutModal = closeLogoutModal;

            // Check login state on page load
            updateLoginControls();
    
            // Update the continue button click handler
            continueButton.addEventListener('click', function(e) {
                e.preventDefault();
                
                if (!currentModalidade.id) {
                    alert('Por favor, selecione uma modalidade antes de continuar.');
                    return;
                }
    
                // Store category information
                localStorage.setItem('categoria_id', currentModalidade.id);
                localStorage.setItem('categoria', currentModalidade.descricao);
                localStorage.setItem('valor', currentModalidade.valorFormatted);
    
                if (localStorage.getItem('logado') === 'sim') {
                    const idPagamento = localStorage.getItem('insc_idpagamento');
                    window.location.href = (!idPagamento || idPagamento === 'none') 
                        ? '/inscricao200k' 
                        : '/formulario200k';
                } else {
                    localStorage.setItem('login_origin', 'continue');
                    window.location.href = '/login';
                }
            });
    
            // Initialize login controls
            updateLoginControls();
        });
    </script>
</body>
</html>
