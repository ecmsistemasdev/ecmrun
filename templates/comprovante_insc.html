<!DOCTYPE html>
<html lang="pt-BR" translate="no" class="notranslate">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ titulo }}</title>
    <style>
        :root {
            --page-padding: 2cm;
            --content-bg-color: rgb(203, 216, 226);
            --content-border-color: rgb(153, 166, 176);
        }

        @page {
            size: A4;
            margin: 1cm;
        }
        
        @media print {
            body {
                width: 21cm;
                height: 29.7cm;
                margin: 0;
                padding: 1cm;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
        }

        /* Wrapper principal para controlar a largura */
        .email-wrapper {
            max-width: 800px;
            width: 60%;
            min-width: 600px;
            margin: 0 auto;
            background-color: white;
        }

        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
        }

        /* Container interno para o conteúdo */
        .inner-container {
            padding: var(--page-padding);
            box-sizing: border-box;
        }

        .header {
            margin-bottom: 3em;
            border-bottom: 2px solid #333;
            position: relative;
            width: 100%;
        }

        .logo-title {
            display: flex;
            align-items: flex-start;
            gap: 5px;
            margin-bottom: 1em;
        }

        .logo {
            width: 100px;
            height: 100px;
            background-color: #f5f5f5;
            flex-shrink: 0;
        }

        .title-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-self: flex-end;
            min-width: 0;
            padding-left: 5px;
        }

        .header h1 {
            font-size: 20pt;
            margin: 0;
            color: #333;
            text-align: left;
        }

        .header p {
            font-size: 10pt;
            color: #666;
            margin: 0.5em 0 1em 0;
            text-align: right;
            width: 100%;
        }

        .content {
            margin-bottom: 3em;
            padding: 1.5em;
            border: 2px solid rgb(149, 163, 173);
            border-radius: 8px;
            background-color: rgb(203, 216, 226);
        }

        .content-section {
            margin-bottom: 1.5em;
        }

        .event-info {
            margin: 0;
            padding: 0.5em 1em;
            background-color: white;
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .event-name {
            font-weight: bold;
            font-size: 14pt;
        }

        .event-address {
            font-size: 10pt;
            color: #666;
            margin-top: 0;
        }

        .event-date {
            font-size: 10pt;
            color: #666;
            margin-top: 0;
        }

        .distance-value-row {
            display: flex;
            gap: 15px;
            margin-bottom: 1.5em;
        }

        .distance-value-row .info-box {
            width: 50%;
            flex: 0 0 calc(50% - 8px);
        }

        .info-box {
            padding: 0.5em 1em;
            background-color: white;
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            box-sizing: border-box;
            min-width: 120px;
        }

        .full-width-box {
            width: 100%;
            margin-bottom: 1.5em;
        }

        .info-label {
            font-weight: bold;
            color: #444;
            white-space: nowrap;
            display: block;
            margin-bottom: 0.5em;
        }

        .info-value {
            color: #666;
            text-align: left;
            display: block;
        }

        .observations {
            margin-top: 0;
        }

        .observations-label {
            font-weight: bold;
            color: #444;
            margin-bottom: 0.5em;
        }

        .observations-content {
            color: #666;
            padding: 1em;
            background-color: white;
            border-radius: 4px;
            min-height: 50px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .form-group {
            margin-bottom: 20px;
            padding-top: 5px;
        }

        .footer {
            background-color: white;
            padding: 20px 0;
            margin-top: auto;
            text-align: center;
        }

        .footer-logo {
            height: 60px;
            width: auto;
            margin-bottom: 10px;
        }

        .footer-text {
            font-size: 0.7em;
            color: #333;
            margin: 2px 0;
        }

        .qr-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .qr-code {
            width: 64px;
            height: 64px;
            flex-shrink: 0;
        }

        .registration-details {
            flex: 1;
        }
                
        @media screen and (max-width: 768px) {
            .email-wrapper {
                width: 100% !important;
                min-width: unset !important;
                padding: 10px;
            }

            .inner-container {
                padding: 1cm 0.5cm;
            }

            .logo-title {
                flex-direction: column;
                align-items: start;
            }

            .logo {
                width: 60px;
                height: 60px;
            }

            .title-container {
                width: 100%;
                align-items: start;
                padding-left: 0;
            }

            .header h1 {
                font-size: 16pt;
                text-align: left;
                width: 100%;
                margin-top: 5px;
            }

            .header p {
                font-size: 10pt;
                text-align: right;
                width: 100%;
            }

            .content {
                padding: 1em;
            }

            .event-name {
                font-size: 12pt;
            }

            .event-address, .event-date {
                font-size: 9pt;
            }

            .footer-logo {
                height: 40px;
            }

            .observations-content {
                padding: 0.5em;
            }
        }

        @media screen and (max-width: 320px) {
            .header h1 {
                font-size: 14pt;
            }

            .logo {
                width: 50px;
                height: 50px;
            }
        }
    </style>
</head>
<body>
    <div class="email-wrapper">
        <div class="inner-container">
            <div class="header">
                <div class="logo-title">
                    <img src="https://ecmrun.com.br/static/img/ecmrunlogo1.png" alt="Logo" class="logo">
                    <div class="title-container">
                        <h1>Comprovante de Inscrição</h1>
                        <p>{{ data }}</p>
                    </div>
                </div>
            </div>

            <div class="content">
                <div class="content-section">
                    <div class="observations-label">Evento:</div>
                    <div class="event-info">
                        <div class="event-name">{{ evento }}</div>
                        <div class="event-address">{{ endereco }}</div>
                        <div class="event-date">Data: {{ dataevento }}</div>
                    </div>
                </div>

                <div class="content-section">
                    <div class="info-box full-width-box">
                        <span class="info-label">Participante:</span>
                        <span class="info-value">{{ participante }}</span>
                    </div>
                </div>

                <div class="content-section">
                    <div class="distance-value-row">
                        <div class="info-box">
                            <span class="info-label">Distância /<br>Modalidade:</span>
                            <span class="info-value">{{ km }}</span>
                        </div>
                        <div class="info-box">
                            <span class="info-label">Valor:</span>
                            <span class="info-value">{{ valortotal }}</span>
                        </div>
                    </div>
                </div>
                
                <div class="content-section">
                    <div class="info-box full-width-box">
                        <span class="info-label">Inscrição:</span>
                        <span class="info-value">{{ inscricao }}</span>
                    </div>
                </div>
                <!--
                <div class="content-section">
                    <div class="info-box full-width-box">
                        <span class="info-label">Inscrição:</span>
                        <div class="qr-container">
                            <div class="registration-details">
                                <span class="info-value">{{ inscricao }}</span>
                            </div>
                            <img class="qr-code" src="https://api.qrserver.com/v1/create-qr-code/?size=64x64&data=https://{{ request.host }}/comprovanteemail/{{ inscricao }}" alt="QR Code de verificação">
                        </div>
                    </div>
                </div>               
                -->
                <div class="content-section">
                    <div class="observations">
                        <div class="observations-label">Observações:</div>
                        <div class="observations-content">{{ obs }}</div>
                    </div>
                </div>
            </div>

            <div class="content-section back-button-section" style="text-align: center; margin-top: 1em;">
                <button onclick="voltarParaEvento()" style="
                    padding: 10px 20px; 
                    background-color: #4CAF50; 
                    color: white; 
                    border: none; 
                    border-radius: 4px; 
                    cursor: pointer; 
                    font-size: 14px;">
                    Voltar
                </button>
            </div>
            <div class="form-group">
                <label>Termo de Responsabilidade:</label>
                <div style="overflow-y: auto; font-size: 13px; text-align: justify; border: 1px solid #ddd; padding: 10px; margin-bottom: 10px; background-color: #f9f9f9;">
                    <div id="termoContent">
                        Eu, {{ participante }}, declaro que:
                        <br><br>
                        - Disputo esta prova por minha livre e espontânea vontade, isentando de quaisquer responsabilidades os organizadores e as empresas envolvidas no evento, em meu nome e de meus herdeiros;
                        <br><br>
                        - Estou liberado por meu médico para participar e estou treinado apropriadamente para a prova.
                        <br><br>
                        - Isento os organizadores e as empresas envolvidas no evento, de quaisquer responsabilidades sobre os objetos deixados por mim no guarda-volumes ou locais indicados pela organização do evento;
                        <br><br>
                        - Estou ciente que o valor pago para inscrição não será devolvido em caso de cancelamento ou não participação no evento, bem como não são aceitas substituições/troca de participantes de uma inscrição e que caso meu pedido seja atendido será considerado como exceção;
                        <br><br>
                        - Aceito que as inscrições podem encerrar-se a qualquer momento e para garantir minha inscrição é necessário o pagamento da mesma.
                        <br><br>
                        - É de minha responsabilidade obter todas as informações sobre o evento, tais como: data, local e horário.
                        <br><br>
                        - Autorizo por este meio a utilização por parte do organizador, patrocinadores de qualquer dado, fotografia, filme ou outra gravação contendo imagens de minha participação neste evento em qualquer mídia seja impressa ou eletrônica, incluindo na Internet, para qualquer fim e por tempo indeterminado.
                        <br><br>
                        - Autorizo recebimento de e-mails e/ou SMS da ECMRUN TICKECTS e seus parceiros divulgando informações, notícias e serviços do segmento.
                        <br><br>
                        - Na realização da inscrição para terceiros, tenho a autorização deste participante e que me responsabilizo pela legitimidade de seus dados que estou fornecendo e que o mesmo tem total ciência desta declaração e do REGULAMENTO do evento.
                        <br><br>
                        - Estou totalmente ciente e concordo com o REGULAMENTO do Evento.
                        <br><br>
                        - Declaro que as informações e dados fornecidos são verdadeiros, completos e correspondem à minha real situação. Estou ciente de que fornecer informações falsas ou incompletas poderá acarretar a minha desclassificação da prova, além das sanções legais cabíveis. Assim, assumo total responsabilidade pela veracidade e exatidão dos dados informados, isentando a organização do evento de qualquer responsabilidade decorrente de informações incorretas ou fraudulentas.
                    </div>
                </div>
            </div>

            <footer class="footer">
                <img src="https://ecmrun.com.br/static/img/ecmdev02.png" alt="Logo ECM Run" class="footer-logo">
                <p class="footer-text">ECM Run - 2025, todos os direitos reservados</p>
                <p class="footer-text">Desenvolvido por: ECM Sistemas Developer</p>
            </footer>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Função para voltar para a página do evento
            window.voltarParaEvento = function() {
                // Limpa dados do pagamento antes de sair
                clearCountdownTimer();
                clearPaymentRelatedLocalStorage();
                
                // Redireciona para a rota que leva à página de origem
                window.location.href = '/voltar-para-evento';
            };
        });

    </script>
</body>
</html>
